{"_path":"/articles/gtag002","_dir":"articles","_draft":false,"_partial":false,"_locale":"","_empty":false,"title":"구글 애널리틱스 이벤트 추적하기","description":"구글 애널리틱스 이용하여 사용자의 행동 추적하기","cover":"/img/google/gtag002_cover.jpg","date":"2020-04-30T00:00:00.000Z","layout":"article","body":{"type":"root","children":[{"type":"element","tag":"h1","props":{"id":"구글-애널리틱스-이벤트-추적하기"},"children":[{"type":"text","value":"구글 애널리틱스 이벤트 추적하기"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"웹사이트에 방문한 사용자가 웹사이트에서 어떤 요소 또는 항목을 사용했는지 추적하기 위해서 구글 애널리틱스의 이벤트 추적기능을 사용한다."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"이벤트 추적에는 4개의 항목을 사용한다."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"4개의 항목을 이용하여 사용자가 웹페이지를 어떻게 이용했는지 표현될 수 있도록 정의한다."}]},{"type":"element","tag":"ul","props":{},"children":[{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"category"}]},{"type":"text","value":" : 필수. 추적하고자 하는 항목의 그룹."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"action"}]},{"type":"text","value":"   : 필수. 추적 행동. "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"링크를 클릭한다"}]},{"type":"text","value":"와 같은 행위를 표현한다."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"label"}]},{"type":"text","value":"    : 선택사항(필수로 사용하길 권장함). 추적 해동에 대한 기술. "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"클릭한 링크의 주소"}]},{"type":"text","value":" 등의 값을 사용한다."}]},{"type":"element","tag":"li","props":{},"children":[{"type":"element","tag":"strong","props":{},"children":[{"type":"text","value":"value"}]},{"type":"text","value":"    : 선택사항. 정수값을 이용한다. "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"동영상을 플레이한 시간"}]},{"type":"text","value":" 등의 값이 사용된다."}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"꼭 위에 기술된 내용에 맞게 정의할 필요는 없고 이벤트 추적에 도움이 되도록 자신만의 규칙으로 설정하면 된다."}]},{"type":"element","tag":"h2","props":{"id":"gtagjs-애널리틱스-자바스크립트를-사이트에-추가하기"},"children":[{"type":"text","value":"gtag.js 애널리틱스 자바스크립트를 사이트에 추가하기"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"기존 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"analytics.js"}]},{"type":"text","value":"가 아닌 새로운 방식의 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"gtag.js"}]},{"type":"text","value":"를 이용하도록 한다.\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"analytics.js"}]},{"type":"text","value":"에서 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"gtag.js"}]},{"type":"text","value":"로 변경하는 방법은 아래 링크에 잘 나와있다."}]},{"type":"element","tag":"p","props":{},"children":[{"type":"element","tag":"a","props":{"href":"https://developers.google.com/analytics/devguides/collection/gtagjs/migration","rel":["nofollow"]},"children":[{"type":"text","value":"Migrate from analytics.js to gtag.js"}]}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"구글애널리틱스에 등록한 구글애널리틱스ID("},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"GA_MEASUREMENT_ID"}]},{"type":"text","value":") 값을 이용하여 아래 스크립트를 웹사이트 헤더에 추가한다.\r\n"},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"sendGaEvent()"}]},{"type":"text","value":"는 웹사이트에서 공통으로 호출한 함수를 정의한 것으로 실제로는 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"gtag()"}]},{"type":"text","value":" 함수를 호출하는 역할을 할 뿐이다."}]},{"type":"element","tag":"code","props":{"code":"<script async src=\"https://www.googletagmanager.com/gtag/js?id=GA_MEASUREMENT_ID\"></script>\r\n<script>\r\n  window.dataLayer = window.dataLayer || [];\r\n  function gtag(){dataLayer.push(arguments);}\r\n  gtag('js', new Date());\r\n\r\n  gtag('config', 'GA_MEASUREMENT_ID');\r\n  \r\n  function sendGaEvent(category, action, label, value) {\r\n    gtag('event', action||'ACTION', \r\n    {'event_category': category||'CATEGORY',\r\n    'event_label': label||'',\r\n    'value': value||''\r\n    });\r\n  }\r\n</script>\n","language":"javascript","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-7cab66"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-f502a4"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"class":"ct-7cab66"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ad7b72"},"children":[{"type":"text","value":"async"}]},{"type":"element","tag":"span","props":{"class":"ct-7cab66"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ad7b72"},"children":[{"type":"text","value":"src"}]},{"type":"element","tag":"span","props":{"class":"ct-452b6c"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-5c53f7"},"children":[{"type":"text","value":"\"https://www.googletagmanager.com/gtag/js?id=GA_MEASUREMENT_ID\""}]},{"type":"element","tag":"span","props":{"class":"ct-7cab66"},"children":[{"type":"text","value":"></"}]},{"type":"element","tag":"span","props":{"class":"ct-f502a4"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"class":"ct-7cab66"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":2},"children":[{"type":"element","tag":"span","props":{"class":"ct-7cab66"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-f502a4"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"class":"ct-7cab66"},"children":[{"type":"text","value":">\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":3},"children":[{"type":"element","tag":"span","props":{"class":"ct-7cab66"},"children":[{"type":"text","value":"  window.dataLayer = window.dataLayer || [];\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":4},"children":[{"type":"element","tag":"span","props":{"class":"ct-7cab66"},"children":[{"type":"text","value":"  function gtag()"}]},{"type":"element","tag":"span","props":{"class":"ct-452b6c"},"children":[{"type":"text","value":"{"}]},{"type":"element","tag":"span","props":{"class":"ct-7cab66"},"children":[{"type":"text","value":"dataLayer."}]},{"type":"element","tag":"span","props":{"class":"ct-75825c"},"children":[{"type":"text","value":"push"}]},{"type":"element","tag":"span","props":{"class":"ct-7cab66"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-ad7b72"},"children":[{"type":"text","value":"arguments"}]},{"type":"element","tag":"span","props":{"class":"ct-7cab66"},"children":[{"type":"text","value":");"}]},{"type":"element","tag":"span","props":{"class":"ct-452b6c"},"children":[{"type":"text","value":"}\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":5},"children":[{"type":"element","tag":"span","props":{"class":"ct-7cab66"},"children":[{"type":"text","value":"  gtag('js', new Date());\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":6},"children":[{"type":"element","tag":"span","props":{},"children":[{"type":"text","value":"\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":7},"children":[{"type":"element","tag":"span","props":{"class":"ct-7cab66"},"children":[{"type":"text","value":"  gtag('config', 'GA_MEASUREMENT_ID');\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":8},"children":[{"type":"element","tag":"span","props":{"class":"ct-7cab66"},"children":[{"type":"text","value":"  \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":9},"children":[{"type":"element","tag":"span","props":{"class":"ct-7cab66"},"children":[{"type":"text","value":"  function sendGaEvent(category, action, label, value) "}]},{"type":"element","tag":"span","props":{"class":"ct-452b6c"},"children":[{"type":"text","value":"{\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":10},"children":[{"type":"element","tag":"span","props":{"class":"ct-7cab66"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-75825c"},"children":[{"type":"text","value":"gtag"}]},{"type":"element","tag":"span","props":{"class":"ct-7cab66"},"children":[{"type":"text","value":"("}]},{"type":"element","tag":"span","props":{"class":"ct-5c53f7"},"children":[{"type":"text","value":"'event'"}]},{"type":"element","tag":"span","props":{"class":"ct-7cab66"},"children":[{"type":"text","value":", action"}]},{"type":"element","tag":"span","props":{"class":"ct-452b6c"},"children":[{"type":"text","value":"||"}]},{"type":"element","tag":"span","props":{"class":"ct-5c53f7"},"children":[{"type":"text","value":"'ACTION'"}]},{"type":"element","tag":"span","props":{"class":"ct-7cab66"},"children":[{"type":"text","value":", \n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":11},"children":[{"type":"element","tag":"span","props":{"class":"ct-7cab66"},"children":[{"type":"text","value":"    {"}]},{"type":"element","tag":"span","props":{"class":"ct-5c53f7"},"children":[{"type":"text","value":"'event_category'"}]},{"type":"element","tag":"span","props":{"class":"ct-7cab66"},"children":[{"type":"text","value":": category"}]},{"type":"element","tag":"span","props":{"class":"ct-452b6c"},"children":[{"type":"text","value":"||"}]},{"type":"element","tag":"span","props":{"class":"ct-5c53f7"},"children":[{"type":"text","value":"'CATEGORY'"}]},{"type":"element","tag":"span","props":{"class":"ct-7cab66"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":12},"children":[{"type":"element","tag":"span","props":{"class":"ct-7cab66"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-5c53f7"},"children":[{"type":"text","value":"'event_label'"}]},{"type":"element","tag":"span","props":{"class":"ct-7cab66"},"children":[{"type":"text","value":": label"}]},{"type":"element","tag":"span","props":{"class":"ct-452b6c"},"children":[{"type":"text","value":"||"}]},{"type":"element","tag":"span","props":{"class":"ct-5c53f7"},"children":[{"type":"text","value":"''"}]},{"type":"element","tag":"span","props":{"class":"ct-7cab66"},"children":[{"type":"text","value":",\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":13},"children":[{"type":"element","tag":"span","props":{"class":"ct-7cab66"},"children":[{"type":"text","value":"    "}]},{"type":"element","tag":"span","props":{"class":"ct-5c53f7"},"children":[{"type":"text","value":"'value'"}]},{"type":"element","tag":"span","props":{"class":"ct-7cab66"},"children":[{"type":"text","value":": value"}]},{"type":"element","tag":"span","props":{"class":"ct-452b6c"},"children":[{"type":"text","value":"||"}]},{"type":"element","tag":"span","props":{"class":"ct-5c53f7"},"children":[{"type":"text","value":"''\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":14},"children":[{"type":"element","tag":"span","props":{"class":"ct-7cab66"},"children":[{"type":"text","value":"    });\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":15},"children":[{"type":"element","tag":"span","props":{"class":"ct-7cab66"},"children":[{"type":"text","value":"  "}]},{"type":"element","tag":"span","props":{"class":"ct-452b6c"},"children":[{"type":"text","value":"}\n"}]}]},{"type":"element","tag":"span","props":{"class":"line","line":16},"children":[{"type":"element","tag":"span","props":{"class":"ct-7cab66"},"children":[{"type":"text","value":"</"}]},{"type":"element","tag":"span","props":{"class":"ct-f502a4"},"children":[{"type":"text","value":"script"}]},{"type":"element","tag":"span","props":{"class":"ct-7cab66"},"children":[{"type":"text","value":">"}]}]}]}]}]},{"type":"element","tag":"h2","props":{"id":"이벤트-등록하기"},"children":[{"type":"text","value":"이벤트 등록하기"}]},{"type":"element","tag":"p","props":{},"children":[{"type":"text","value":"아래 예시와 같이 링크를 클릭하면 "},{"type":"element","tag":"code-inline","props":{},"children":[{"type":"text","value":"sendGaEvent()"}]},{"type":"text","value":" 함수를 호출하여 구글애널리틱스에 이벤트를 추적하도록 한다."}]},{"type":"element","tag":"code","props":{"code":"<a href=\"/category/event\" onclick=\"sendGaEvent('메뉴', 'click', '이벤트보기')\">이벤트보기</a>\n","language":"html","meta":null},"children":[{"type":"element","tag":"pre","props":{},"children":[{"type":"element","tag":"code","props":{"__ignoreMap":""},"children":[{"type":"element","tag":"span","props":{"class":"line","line":1},"children":[{"type":"element","tag":"span","props":{"class":"ct-7cab66"},"children":[{"type":"text","value":"<"}]},{"type":"element","tag":"span","props":{"class":"ct-f502a4"},"children":[{"type":"text","value":"a"}]},{"type":"element","tag":"span","props":{"class":"ct-7cab66"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ad7b72"},"children":[{"type":"text","value":"href"}]},{"type":"element","tag":"span","props":{"class":"ct-7cab66"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-5c53f7"},"children":[{"type":"text","value":"\"/category/event\""}]},{"type":"element","tag":"span","props":{"class":"ct-7cab66"},"children":[{"type":"text","value":" "}]},{"type":"element","tag":"span","props":{"class":"ct-ad7b72"},"children":[{"type":"text","value":"onclick"}]},{"type":"element","tag":"span","props":{"class":"ct-7cab66"},"children":[{"type":"text","value":"="}]},{"type":"element","tag":"span","props":{"class":"ct-5c53f7"},"children":[{"type":"text","value":"\""}]},{"type":"element","tag":"span","props":{"class":"ct-75825c"},"children":[{"type":"text","value":"sendGaEvent"}]},{"type":"element","tag":"span","props":{"class":"ct-5c53f7"},"children":[{"type":"text","value":"('메뉴', 'click', '이벤트보기')\""}]},{"type":"element","tag":"span","props":{"class":"ct-7cab66"},"children":[{"type":"text","value":">이벤트보기</"}]},{"type":"element","tag":"span","props":{"class":"ct-f502a4"},"children":[{"type":"text","value":"a"}]},{"type":"element","tag":"span","props":{"class":"ct-7cab66"},"children":[{"type":"text","value":">"}]}]}]}]}]},{"type":"element","tag":"style","children":[{"type":"text","value":".ct-75825c{color:#8250DF}\n.ct-5c53f7{color:#0A3069}\n.ct-452b6c{color:#CF222E}\n.ct-ad7b72{color:#0550AE}\n.ct-f502a4{color:#116329}\n.ct-7cab66{color:#24292F}\n.dark .ct-7cab66{color:#C9D1D9}\n.dark .ct-f502a4{color:#7EE787}\n.dark .ct-ad7b72{color:#79C0FF}\n.dark .ct-452b6c{color:#FF7B72}\n.dark .ct-5c53f7{color:#A5D6FF}\n.dark .ct-75825c{color:#D2A8FF}"}]}],"toc":{"title":"","searchDepth":2,"depth":2,"links":[{"id":"gtagjs-애널리틱스-자바스크립트를-사이트에-추가하기","depth":2,"text":"gtag.js 애널리틱스 자바스크립트를 사이트에 추가하기"},{"id":"이벤트-등록하기","depth":2,"text":"이벤트 등록하기"}]}},"_type":"markdown","_id":"content:articles:003.gtag002.md","_source":"content","_file":"articles/003.gtag002.md","_extension":"md"}