<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html lang="ko" xmlns="http://www.w3.org/1999/xhtml">

<head>
	    <meta charset="utf-8"/>
	    <title>맥북에어 2011 모델에 Ubuntu 및 Android-x86 멀티부팅으로 설치하여 안드로이드 사용하기</title>
	    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
	    <meta name="description" content="DevOps를 위한 정보 제공"/>
	    <meta name="author" content="appaga@appaga.kr"/>
	    <meta name="keywords" content="java, spring boot, android"/>
	    <meta name="generator" content="JBake"/>
	    <!-- styles -->
		<link href="../../bootstrap/bootstrap.min.css" rel="stylesheet"/>
		<link href="../../font-nanum/font-nanum.css" rel="stylesheet"/>
		<link href="../../bootstrap/blog.css" rel="stylesheet"/>
	    <link href="../../prettify/prettify.css" rel="stylesheet"/>

	    <!-- Fav and touch icons -->
		<link rel="apple-touch-icon" sizes="180x180" href="../../apple-touch-icon.png"/>
		<link rel="icon" type="image/png" sizes="32x32" href="../../favicon-32x32.png"/>
		<link rel="icon" type="image/png" sizes="16x16" href="../../favicon-16x16.png"/>
		<link rel="manifest" href="../../site.webmanifest"/>
	    <link rel="shortcut icon" href="../../favicon.ico"/>		
	</head>

<body>
	<div id="wrap">
		<div>
		<div class="container">
			<header class="blog-header py-3">
				<div class="row flex-nowrap justify-content-between align-items-center">
					<div class="col-4 pt-1">
						<a class="link-secondary" href="../../feed.xml">Subscribe</a>
					</div>
					<div class="col-4 text-center">
						<a class="blog-header-logo text-dark" href="/">APPAGA</a>
					</div>
					<div class="col-4 d-flex justify-content-end align-items-center">
						<a class="btn btn-sm btn-outline-secondary" href="../../about.html">About</a>
					</div>
				</div>
			</header>

			<ul class="nav justify-content-between">
				<li class="nav-item">
					<a class="nav-link" href='../../archive.html'>Archives</a>
				</li>
				<li class="nav-item dropdown">
					<a class="nav-link dropdown-toggle" data-bs-toggle="dropdown" href="#">Tags</a>
					<ul class="dropdown-menu">
						<li>
							<a class="dropdown-item text-uppercase" href='../../tags/centos.html'>centos</a>
						</li>
						<li>
							<a class="dropdown-item text-uppercase" href='../../tags/mongodb.html'>mongodb</a>
						</li>
						<li>
							<a class="dropdown-item text-uppercase" href='../../tags/html.html'>html</a>
						</li>
						<li>
							<a class="dropdown-item text-uppercase" href='../../tags/linux.html'>linux</a>
						</li>
						<li>
							<a class="dropdown-item text-uppercase" href='../../tags/apache.html'>apache</a>
						</li>
						<li>
							<a class="dropdown-item text-uppercase" href='../../tags/database.html'>database</a>
						</li>
						<li>
							<a class="dropdown-item text-uppercase" href='../../tags/analytics.html'>analytics</a>
						</li>
						<li>
							<a class="dropdown-item text-uppercase" href='../../tags/eclipse.html'>eclipse</a>
						</li>
						<li>
							<a class="dropdown-item text-uppercase" href='../../tags/javascript.html'>javascript</a>
						</li>
						<li>
							<a class="dropdown-item text-uppercase" href='../../tags/springboot.html'>springboot</a>
						</li>
						<li>
							<a class="dropdown-item text-uppercase" href='../../tags/thymeleaf.html'>thymeleaf</a>
						</li>
						<li>
							<a class="dropdown-item text-uppercase" href='../../tags/google.html'>google</a>
						</li>
						<li>
							<a class="dropdown-item text-uppercase" href='../../tags/android.html'>android</a>
						</li>
						<li>
							<a class="dropdown-item text-uppercase" href='../../tags/ubuntu.html'>ubuntu</a>
						</li>
						<li>
							<a class="dropdown-item text-uppercase" href='../../tags/tomcat.html'>tomcat</a>
						</li>
					</ul>
				</li>
			</ul>
		</div>
	</div>
		<main class="container">
			<div class="page-header">
				<h1>맥북에어 2011 모델에 Ubuntu 및 Android-x86 멀티부팅으로 설치하여 안드로이드 사용하기</h1>
			</div>
			<p><em>01 June 2022</em></p>
			<p><p>2011년 경에 구입한 MacBook Air (11-inch, Mid 2011)를 안쓴지 오래이다.<br />
4GB 램에 128GB 디스크에 아직도 큰 문제없이 작동한다.<br />
묵혀두기에는 아까워서 ubuntu 22.04 설치하여 테스트용으로도 쓰고 Android-x86도 멀티부팅 가능하게 설치하여 안드로이드도 사용하고자 한다.</p>
<p>별도의 파티션에 두 OS를 설치하는 것이 아닌 우분투에 <code>rpm</code>으로 안드로이드를 설치하여 멀티부팅으로 선택하여 사용하도록 설치한다.</p>
<p><img src="/img/linux/ubuntu/ubuntu_004-02.jpg" alt="안드로이드 실행 화면" /></p>
<h2>우분투 설치용 USB 드라이브 만들기</h2>
<p><a href="https://ubuntu.com/">Ubuntu</a>에서 데스크탑용 ISO 이미지 파일 다운받는다. 최신 버전인 Ubuntu 22.04를 다운한다.</p>
<p>다운로드 받은 이미지 파일을 부팅용 usb 드라이브로 만들 때 <a href="https://rufus.ie/">rufus</a>를 이용하여 만든다.<br />
USB 드라이브는 최소 8GB 이상 용량이 필요하다.</p>
<p>rufus로 드라이브 제작시에 <code>ISO</code>, <code>dd</code> 방식으로 만들 것이냐는 질문을 물어보는데 <code>dd</code> 방식으로 제작하니 정상적으로 부팅된다.</p>
<h2>맥북에 우분투 설치하기</h2>
<p>usb 부팅드라이브를 꽂은 후 전원을 켠다.<br />
화면이 켜지면 바로 <code>option</code> 키를 계속 누르고 있으면 부팅디스크 선택 화면이 표시된다.<br />
usb 드라이브(EFI Boot)를 선택하면 우분투 부팅 화면으로 진입하게 된다.</p>
<p>설치 완료 후 아래처럼 패키지를 최신으로 업데이트한다.</p>
<pre><code class="language-bsh">$ sudo apt update
$ sudp apt -y upgrade
</code></pre>
<h2>안드로이드 설치</h2>
<p><a href="https://www.android-x86.org/">Android-x86</a>에서 최신 설치 파일을 다운받아서 설치한다.</p>
<p>ISO를 받아서 별도의 OS로 설치하는 것이 아니라 <code>rpm</code> 설치 파일을 받아서 설치하면 된다.<br />
리눅스에 안드로이드를 멀티부팅 가능하도록 설치 해준다.</p>
<p>현재 최신 안정 버전인 lineage OS <code>cm-x86-14.1-r5.x86_64.rpm</code> 파일을 다운로드 한다. 다운로드 경로는 <a href="https://www.android-x86.org/releases/releasenote-cm-x86-14-1-r5.html">릴리즈노트</a>를 참고한다.</p>
<p><code>rpm</code> 패키지를 우분투용 패키지로 바꿔주는 <code>alien</code> 툴을 먼저 설치 후 <code>alien</code>으로 다운로드 받은 파일을 설치한다.</p>
<pre><code class="language-bsh">$ sudo apt install alien
$ sudo alien -ci cm-x86-14.1-r5.x86_64.rpm
</code></pre>
<p>패키지를 변환하는 작업이 시간이 걸리는지 설치 완료되는데 내 경우에는 10분 이상 소요되었다.</p>
<p>설치 완료되면 <code>/cm-x86-14.1-r5</code> 폴더가 생성되고 모든 파일이 하위에 설치된다.</p>
<p><code>qemu-android</code> 명령으로 리눅스에서 바로 실행이 가능하다.<br />
<code>qemu-system</code> 패키지를 먼저 설치하고 실행한다.</p>
<pre><code class="language-bsh">$ sudo apt install qemu-system
$ sudo qemu-android
</code></pre>
<h2>grub 편집하여 부팅메뉴 표시하기</h2>
<p>우분투는 디폴트로 grub 부팅메뉴가 표시되지 않도록 세팅되어 있다.<br />
<code>/etc/default/grub</code> 설정 파일을 수정하여 표시되도록 바꿔준다.</p>
<pre><code class="language-bsh">$ sudo vim /etc/default/grub
</code></pre>
<p>아래처럼 값을 변경한다. 부팅시 <code>menu</code> 형태로 <code>10초</code> 동안 표시하도록 설정한다.</p>
<pre><code>GRUB_TIMEOUT_STYLE=menu
GRUB_TIMEOUT=10
</code></pre>
<p>파일 변경 후에는 아래 명령을 실행해야 변경 사항이 반영된다.</p>
<pre><code class="language-bsh">$ sudo update-grub
</code></pre>
<p>재부팅하면 <code>grub</code> 메뉴에서 안드로이드를 선택하여 부팅할 수 있다.<br />
<img src="/img/linux/ubuntu/ubuntu_004-01.jpg" alt="grub 부팅화면" /></p>
<h2>grub 편집하여 디폴트로 안드로이드로 부팅하기</h2>
<p>grub 설정에서 <code>GRUB_DEFAULT=0</code> 부분이 디폴트 커널 설정이다.<br />
grub 부팅화면에서 안드로이드가 세번째로 표시되고 있으니 순서(인덱스)로 <code>2</code>가 된다.<br />
<code>GRUB_DEFAULT=2</code>로 설정을 수정하고 재부팅하면 자동으로 안드로이드로 부팅된다.</p>
<pre><code class="language-bsh">$ sudo vim /etc/default/grub

GRUB_DEFAULT=2
GRUB_TIMEOUT_STYLE=menu
GRUB_TIMEOUT=3

$ sudo update-grub
$ reboot
</code></pre>
<h2>안드로이드 설치 제거</h2>
<p>아래 명령으로 설치 가능하며, 설치 폴더가 완전히 삭제되지 않는 경우가 있으니 깨끗히 지워준다.</p>
<pre><code class="language-bsh">$ sudo apt-get remove android-x86
$ sudo rm -rf /cm-x86-14.1-r5
</code></pre>
</p>
		</main>
	</div>
	<div>
			<footer class="blog-footer">
		    	<p class="muted credit">&copy; 2022 APPAGA.KR</p>
		    	<p>
					<a href="#">Back to top</a>
				</p>
		    </footer>

		    <!-- javascript. Placed at the end of the document so the pages load faster -->
			<script src="../../js/jquery-3.6.0.min.js"></script>
			<script src="../../bootstrap/bootstrap.bundle.min.js"></script>
			<script src="../../prettify/prettify.js"></script>
		    <script src="../../js/appaga.js?20220602092737"></script>
			
			<!-- Global site tag (gtag.js) - Google Analytics -->
			<script async src="https://www.googletagmanager.com/gtag/js?id=G-VB6XQ6972F"></script>
			<script>
			window.dataLayer = window.dataLayer || [];
			function gtag(){dataLayer.push(arguments);}
			gtag('js', new Date());

			gtag('config', 'G-VB6XQ6972F');
			</script>
    	</div>
</body>

</html>